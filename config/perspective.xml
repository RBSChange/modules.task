<?xml version="1.0"?>
<perspective>
  <models>
    <model name="modules_generic/rootfolder">
      <children>
        <child model="modules_generic/systemfolder"/>
        <child model="modules_task/plannedfolder"/>
        <child model="modules_task/userfolder"/>
      </children>
	<drops>
		<drop model="modules_task/plannedfolder" action="move"/>
		<drop model="modules_generic/systemfolder" action="move"/>
		<drop model="modules_task/userfolder" action="move"/>
	</drops>
      <contextactions>
        <contextaction name="edit"/>
        <contextaction name="createPlannedfolder"/>
        <contextaction name="createUserfolder"/>
        <contextaction name="openTreeNodeOrder"/>
      </contextactions>
    </model>
    <model name="modules_generic/systemfolder">
      <children>
        <child model="modules_task/plannedtask"/>
      </children>
      <columns>
        <column name="executionStatusLabel" flex="1"/>
        <column name="lastrundate" flex="1"/>
        <column name="nextrundate" flex="1"/>
      </columns>
      <contextactions>
        <contextaction name="openFolder"/>
      </contextactions>
    </model>
    <model name="modules_task/usertask">
      <contextactions>
        <contextaction name="edit"/>
        <contextaction name="performUsertask"/>
      </contextactions>
    </model>
    <model name="modules_task/plannedtask">
      <contextactions>
        <contextaction name="edit"/>
        <contextaction name="unlockplannedtask"/>
        <contextaction name="resetplannedtasktime"/>
        <contextaction name="reactivate"/>
        <contextaction name="deactivated"/>
      </contextactions>
    </model>
    
    <model name="modules_task/plannedfolder">
      <children>
        <child model="modules_task/plannedtask" from="function" />
      </children>
 	  <columns>
        <column name="executionStatusLabel" flex="1"/>
        <column name="lastrundate" flex="1"/>
        <column name="nextrundate" flex="1"/>
      </columns>
      <contextactions>
        <contextaction name="edit"/>
        <contextaction name="delete"/>
      </contextactions>
    </model>
 
    <model name="modules_task/userfolder">
      <children>
        <child model="modules_task/usertask" from="function" />
      </children>
      
      <columns>
        <column name="userLabel" flex="1"/>
        <column name="creationdate" flex="1"/>
      </columns>
      
      <contextactions>
        <contextaction name="edit"/>
        <contextaction name="delete"/>
      </contextactions>
    </model>
  </models>
  <toolbar>
    <toolbarbutton name="edit"/>
    <toolbarbutton name="reactivate"/>
    <toolbarbutton name="deactivated"/>
  </toolbar>
  <actions>
    <action name="refresh" single="true" icon="refresh" label="&amp;modules.uixul.bo.actions.Refresh;"/>
    <action name="edit" single="true" permission="Load" icon="edit" label="&amp;modules.uixul.bo.actions.Edit;"/>
    <action name="openFolder" icon="folder_into" label="&amp;modules.uixul.bo.actions.OpenFolder;"/>
	<action name="openTreeNodeOrder" single="true" permission="Order" icon="sort" label="&amp;modules.uixul.bo.actions.Set-children-order;"/>
	<action name="move" permission="Move" icon="up_down" label="&amp;modules.uixul.bo.actions.Move;"/>
    <action name="performUsertask" single="true" icon="task-execute" label="&amp;modules.task.bo.actions.Perform-Usertask;"/>
    <action name="unlockplannedtask" single="true" icon="unlock" label="&amp;modules.task.bo.actions.Unlockplannedtask;"/>
    <action name="resetplannedtasktime" single="true" icon="plannedtask" label="&amp;modules.task.bo.actions.Resetplannedtasktime;"/>
    <action name="reactivate" permission="ReActivate" icon="reactivate" label="&amp;modules.uixul.bo.actions.ReActivate;"/>
    <action name="deactivated" permission="Deactivated" icon="deactivated" label="&amp;modules.uixul.bo.actions.Deactivate;"/>
    <action name="createPlannedfolder" single="true" permission="Insert_plannedfolder" icon="add"/>
    <action name="createUserfolder" single="true" permission="Insert_userfolder" icon="add"/>
  </actions>
</perspective>
